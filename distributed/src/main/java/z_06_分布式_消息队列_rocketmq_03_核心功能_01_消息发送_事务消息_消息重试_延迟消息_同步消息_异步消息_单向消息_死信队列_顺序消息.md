#临界知识
超时重试/超时回滚
二阶段提交事务消息
#同步发送vs异步发送vs单向消息
#事务消息
![](.z_06_分布式_消息队列_rocketmq_03_核心功能_01_消息发送_事务消息_消息重试_延迟消息_同步消息_异步消息_单向消息_死信队列_顺序消息_images/a4b855e5.png)
#消息重试
#延时消息
#顺序消息
##全局有序
一个队列,生产有序,消费端有序
##部分有序
队列内有序
```asp
队列先天支持FIFO模型，单一生产和消费者下只要保证使用`MessageListenerOrderly`监听器即可

顺序消费表示消息消费的顺序同生产者为每个消息队列发送的顺序一致，所以如果正在处理全局顺序是强制性的场景，需要确保使用的主题只有一个消息队列。

并行消费不再保证消息顺序，消费的最大并行数量受每个消费者客户端指定的线程池限制。

那么只要顺序的发送，再保证一个线程只去消费一个队列上的消息，那么他就是有序的。



跟普通消息相比，顺序消息的使用需要在producer的send()方法中添加MessageQueueSelector接口的实现类，并重写select选择使用的队列，因为顺序消息局部顺序，需要将所有消息指定发送到同一队列中。
```
#死信消息
