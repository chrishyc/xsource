# 缓存旁路场景

# redis缓存场景

# flink场景

# 数据库分表分库场景

# 分布式锁场景

# 分布式事务场景

# 难点case
## 问题1
很多工作流某些任务耗时超过2s,同一个任务大部分耗时1ms左右
## 分析
1.流量高峰?分析发现流量低峰也有出现
2.redis耗时,分析慢查询日志发现redis未超时,请求成功,redis请求成功,打印耗时2s
3.过滤耗时>500ms的日志,发现附近都有耗时的大特征解析,2MB.为什么大特征解析会影响其他特征读取?
## 方案
1.策略下掉大特征
2.优化特征解析过程
#实时特征获取不到

## 问题2
每天2:00~4:00获取不到特征
## 分析
查看生产端消费延时,延时严重
查看输入500/s,输出情况200/s
查看buffer pool,100%
cpu使用情况,90%
算子流入流出,2000/s
kafka消费 1m/s

查看配置,taskmananger 1,slot 1,cpu 1
优化配置

## 方案
