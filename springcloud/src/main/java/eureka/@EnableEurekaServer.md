@EnableEurekaServer启动eureka server过程
##1.需求:
通过注解启动或者关闭eureka服务
##2.方案:
使用@ConditionalOnBean来决定是否实例化EurekaServerAutoConfiguration,
@EnableEurekaServer会注入上述依赖的bean,从而开启对EurekaServerAutoConfiguration的实例化
##3.实现:
1.扫描到@SpringBootApplication中的@Import(AutoConfigurationImportSelector.class)
发现AutoConfigurationImportSelector为DeferredImportSelector类型,缓存selectImports中的类在延时map中
其中有EurekaServerAutoConfiguration

2.扫描到@EnableEurekaServer中的@Import(EurekaServerMarkerConfiguration.class)
发现EurekaServerMarkerConfiguration是@Configuration类型,将EurekaServerMarkerConfiguration
缓存在configurationclass map中

3.处理延时map,发现EurekaServerAutoConfiguration为@Configuration类型开始处理其上的@PropertySources
然后处理其上的@import

4.发现@import导入的EurekaServerInitializerConfiguration为@Configuration类型,缓存在configurationclass map中

5.发现@import导入的EnableConfigurationPropertiesRegistrar为ImportBeanDefinitionRegistrar类型,缓存在Registrar map中

6.然后将EurekaServerAutoConfiguration缓存在configurationclass map中

7.开始将上述解析的configurationclass map生成beandefinition注入bean容器中,此过程会调用loadBeanDefinitionsForConfigurationClass
trackedConditionEvaluator.shouldSkip(configClass)判断是否要对configClass生成beanDefinition,
判断到EurekaServerAutoConfiguration的configClass时,他依赖的bean对象EurekaServerMarkerConfiguration.Marker已经生成beanDefinition,
因此EurekaServerAutoConfiguration生效,应该生成beanDefinition

8.执行Registrar map,生成beandefinition注入bean容器中

