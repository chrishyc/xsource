##1.什么是操作系统?
1.硬件:cpu/内存/设备/设备中断
2.软件:进程调度/文件管理
##2.什么是内核?
##3.什么是宏内核?
pc/手机端，内核控制cpu/内存/存储访问
##4.什么是微内核?
iot,内核不控制内存/设备,应用程序调度，弹性部署
##vmm
##用户态/内核态?
对硬件资源进行控制
内核态能执行r0级别指令，读写网卡/磁盘/显卡，200多个系统调用 sendfile read write pthread fork 
用户态只能执行r3级别指令
[计算机怎么知道用户态和内核态](https://www.zhihu.com/question/26188312)

##用户态/内核态切换干了什么?

##保护模式vs实模式

##进程和线程的区别?
进程是OS分配资源的基本单位，线程是执行调度的基本单位

进程分配的资源包括:独立的内存地址,每个大概4G(包括虚拟存储),文件描述符,进程表PCB

线程:调度执行（线程共享进程的内存空间，没有自己独立的内存空间）,实现上看就是指令栈的进出和切换

##线程实现方案
linux：线程是普通进程，多个进程共享一个内存空间，达到线程的概念

##内核线程模型
hotspot线程,重量级线程:   用户态线程:内核态线程=1:1,内核态线程就是一个linux普通进程,和其他进程共享内存空间
涉及内核态和用户态的切换,切换时间消耗大

fiber，协程,轻量级协程,用户态切换，不涉及内核态切换: 用户态协程:用户态线程:内核态线程=n:1:1,用户态多个协程对应jvm一个用户态线程,一个用户态线程分片执行多个协程.

##什么是协程?fiber，如何实现?
协程是用户态的线程，不涉及在内核态创建进程.
每个协程都对应一个指令栈,协程切换对应指令栈的切换,协程执行对应指令栈的进出
优势：1：占有资源很少 OS : 线程,1M Fiber：4K 2：切换比较简单 3：启动很多个10W+
用户态切换资源时间消耗少,反而比申请多个内核态进程执行时间短

目前2020 3 22支持内置纤程的语言：Kotlin Scala Go Python(lib)... Java? （open jdk : loom）

##线程和协程选择?
纤程 vs 线程池：很短的计算任务，不需要和内核打交道，并发量高！

##孤儿进程、僵尸进程
父进程持有所有fork出的子进程的pcb
僵尸进程:子进程死了,父进程还持有子进程的pcb
孤儿进程:父进程死了，子进程没有父亲，会被挂在某个特定进程上

##进程调度
进程调度策略
进程优先级级别
##中断
硬件中断，软中断(重点)
给操作系统内核信号

硬件中断的过程:

线程中断:线程设置标志位

###中断涉及对象
硬件(键盘)，中断电信号,键盘控制器,中断控制器，
cpu,中断向量表，操作系统,中断处理程序
中断处理程序是设备内核驱动程序的一部分，是普通的c程序

中断处理程序和特定中断关联，如设备产生不同中断，则该设备可以对应多个中断处理程序
网络设备的中断处理程序将硬件网络数据包拷贝到内存

中断号，中断处理逻辑

###中断信号为啥要发给中断控制器?可以直接发给cpu吗?

###cpu怎么知道中断信号要给谁处理?

###中断处理器做了什么事情?
###优先级高的中断信号会中断低级的吗?
###中断重入?

http://www.elecfans.com/emb/20190402899322.html

http://www.wowotech.net/irq_subsystem/interrupt_subsystem_architecture.html/comment-page-2

https://zhuanlan.zhihu.com/p/55561945

https://zhuanlan.zhihu.com/p/80903637


###中断上半部分，下半部分
##异常

##信号量和锁的区别
